{"version":3,"file":"js/931.170f4af4.js","mappings":"8VA4BA,MAAM,MAACA,IAASC,EAAAA,EAAAA,MAEVC,GAAOC,EAAAA,EAAAA,IAAI,CACfC,SAAU,GACVC,SAAU,KAGZ,SAASC,IACP,MAAMC,EAAS,kDACTC,EAAOC,SAASD,KAAKE,MAC3BF,EAAKG,gBAAkB,OAASJ,EAAS,IACzCC,EAAKI,qBAAuB,QAC5BJ,EAAKK,eAAiB,QACtBL,EAAKM,MAAQ,OACbN,EAAKO,OAAS,MAChB,CAEA,SAASC,IACP,MAAMR,EAAOC,SAASD,KAAKE,MAE3BF,EAAKG,gBAAkB,GACvBH,EAAKI,qBAAuB,GAC5BJ,EAAKK,eAAiB,GACtBL,EAAKM,MAAQ,GACbN,EAAKO,OAAS,EAChB,CAMA,SAASE,IACPjB,EAAMkB,OAAOC,KAAK,QAAQ,CACxBf,SAAUF,EAAKkB,MAAMhB,SACrBC,SAAUH,EAAKkB,MAAMf,UACrB,CACAgB,QAAS,CACP,cAAkBC,OAAOC,aAAaC,QAAQ,iBAC9C,eAAiB,sBAGhBC,MAAKC,IACJ,IAAIC,EAAQL,OAAOC,aAAaC,QAAQ,iBAC5B,MAATG,GAAeL,OAAOC,aAAaK,QAAQ,gBAAgBF,EAASL,QAAQQ,IAAI,kBACnFC,QAAQC,IAAIT,OAAOC,aAAaC,QAAQ,kBACxCM,QAAQC,IAAIL,EAASM,KAAK,IAE3BC,OAAMC,GAASJ,QAAQC,IAAIG,IAClC,C,OAtBAC,EAAAA,EAAAA,IAAU7B,IACV8B,EAAAA,EAAAA,IAAYpB,G,iyCCjDZ,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://blumsunblog/./src/views/LoginView.vue","webpack://blumsunblog/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <el-row type=\"flex\" justify=\"center\">\r\n    <el-col :lg=\"8\" class=\"center\">\r\n      <h1 class=\"title\">登录</h1>\r\n      <el-form  class=\"form\">\r\n        <el-form-item>\r\n          <el-input @keyup.enter=\"req\" v-model=\"user.username\" type=\"text\" size=\"large\" placeholder=\"用户名\">\r\n            <template #prepend><el-icon><User/></el-icon></template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-input @keyup.enter=\"req\" v-model=\"user.password\" type=\"password\" show-password size=\"large\" placeholder=\"密码\">\r\n            <template #prepend><el-icon><Lock/></el-icon></template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button>登录</el-button>\r\n          <el-button>注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script setup>\r\nimport {getCurrentInstance, onBeforeUpdate, onMounted, onUnmounted, ref} from \"vue\";\r\nimport {Lock, User} from \"@element-plus/icons-vue\";\r\nimport {onBeforeRouteLeave, onBeforeRouteUpdate} from \"vue-router\";\r\nconst {proxy} = getCurrentInstance()\r\n\r\nconst user = ref({\r\n  username: '',\r\n  password: '',\r\n})\r\n\r\nfunction setBackImg() {\r\n  const imgUrl = \"https://images5.alphacoders.com/132/1328922.png\";\r\n  const body = document.body.style;\r\n  body.backgroundImage = \"url(\" + imgUrl + \")\";\r\n  body.backgroundAttachment = 'fixed';\r\n  body.backgroundSize = 'cover';\r\n  body.width = '100%';\r\n  body.height = '100%';\r\n}\r\n\r\nfunction removeBackImg(){\r\n  const body = document.body.style;\r\n  // 恢复原始背景设置，或者清空背景图片\r\n  body.backgroundImage = \"\";\r\n  body.backgroundAttachment = \"\";\r\n  body.backgroundSize = \"\";\r\n  body.width = \"\";\r\n  body.height = \"\";\r\n}\r\nonMounted(setBackImg)\r\nonUnmounted(removeBackImg)\r\n\r\n\r\n\r\nfunction req(){\r\n  proxy.$axios.post('/test',{\r\n    username: user.value.username,\r\n    password: user.value.password\r\n  },{\r\n    headers: {\r\n      'Authorization' : window.localStorage.getItem('Authorization'),\r\n      'Content-Type' : 'application/json',\r\n    }\r\n  })\r\n      .then(response => {\r\n        let token = window.localStorage.getItem('Authorization')\r\n        if(token == null) window.localStorage.setItem('Authorization',response.headers.get('Authorization'))\r\n        console.log(window.localStorage.getItem(\"Authorization\"))\r\n        console.log(response.data)\r\n      })\r\n      .catch(error => console.log(error))\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.center{\r\n  margin: 150px;\r\n  border-radius: 15px;\r\n  box-shadow: 0 2px 12px rgba(0,0,0,0.2);\r\n  opacity: 1;\r\n}\r\n.form{\r\n  padding: 40px 60px 60px 60px;\r\n}\r\n.title{\r\n  color: #eaeaea;\r\n  text-shadow: 0 2px 2px #77d8ff;\r\n}\r\n</style>\r\n","import script from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=a87a4b46&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a87a4b46\"]])\n\nexport default __exports__"],"names":["proxy","getCurrentInstance","user","ref","username","password","setBackImg","imgUrl","body","document","style","backgroundImage","backgroundAttachment","backgroundSize","width","height","removeBackImg","req","$axios","post","value","headers","window","localStorage","getItem","then","response","token","setItem","get","console","log","data","catch","error","onMounted","onUnmounted","__exports__"],"sourceRoot":""}